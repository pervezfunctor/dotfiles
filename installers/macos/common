#! /usr/bin/env bash

{

bic() {
    for cmd in "$@"; do
        brew install -q --cask "$cmd"
    done
}

core_install() {
    bi coreutils bash
    bis curl wget trash tree unzip coreutils gum

    cmd_check curl wget trash tree unzip gum
}

essential_install() {
    slog "Installing Essential packages"

    core_install
    webi_install
    mise_install

    bis gawk p7zip cmake unar zip

    slog "Essential packages installation done!"

    cmd_check awk tmux cmake unar zip
}

cli_install() {
    bis tmux pkg-config urlview
    bi zsh-syntax-highlighting zsh-autosuggestions
    bi golang rust ripgrep neovim neovide luarocks lazydocker
    bi starship gping broot mcfly jq

    gh extension install github/gh-copilot

    cmd_check go rustc rg nvim neovide lazydocker starship gping broot mcfly jq
}

fonts_install() {
    bic font-jetbrains-mono-nerd-font font-monaspace-nerd-font font-caskaydia-mono-nerd-font
}

cpp_install() {
    slog "Installing C++"

    bi cmake boost catch2 ccache cppcheck pre-commit

    slog "C++ installation done!"
}

virt_install() {
    slog "Installing virtualization packages"

    softwareupdate --install-rosetta --agree-to-license
    bi podman
    bic podman-desktop
    bi colima
    # podman machine set --rootful
    # sudo /opt/homebrew/Cellar/podman/4.9.2/bin/podman-mac-helper install

    dir_exists /Applications/Docker.app || bic docker

    slog "Virtualization packages installation done!"
}

python_uv_install() {
    curl -LsSf https://astral.sh/uv/install.sh | sh
}

pyenv_mac_install() {
    slog "Installing pyenv"
    bi pyenv
    bi pyenv-virtualenv
}

}
